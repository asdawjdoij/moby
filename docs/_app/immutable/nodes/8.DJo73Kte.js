import"../chunks/DsnmJJEf.js";import"../chunks/Bp-TK59q.js";import{o as N}from"../chunks/Cy2BG9Mn.js";import{p as O,f as I,a as Q,t as y,b as M,c as X,s as h,g as t,ak as c,e as p,V as l,r as o,aM as Y,a0 as R}from"../chunks/C55T2Wxw.js";import{e as S,s as D}from"../chunks/n-cVPAOS.js";import{i as Z}from"../chunks/CBArtuYB.js";import{e as ee,i as te}from"../chunks/Cy6ZAtOV.js";import{s as ae}from"../chunks/D_tX22K_.js";import{s as _}from"../chunks/aWT75Oqt.js";import{i as se}from"../chunks/DIiPm92p.js";var le=I('<div><img class="front select-none svelte-1czmmpc" alt="front"/> <div class="back bg-black/[25%] w-[100px] h-[100px] svelte-1czmmpc"></div></div>'),ie=I('<div class="flex justify-center"><p class="bg-black/[25%] p-4 rounded-xl  svelte-1czmmpc"> </p></div>'),re=I('<main class="svelte-1czmmpc"></main> <aside><p class="svelte-1czmmpc"> </p></aside> <aside><p class="svelte-1czmmpc"> </p></aside> <aside></aside> <div class="bottom-[20px] fixed right-[50%] translate-x-[50%]"><button class="text-white font-semibold cursor-pointer text-2xl bg-black/[25%] p-4 rounded-xl">Starta om</button></div> <!>',1);function ge(V,W){O(W,!1);let m=c(!0),x="",r=c([]),n=c(0),f=c(0),d=[],v=!1,k=c(!1),u=c("");N(()=>{setInterval(()=>{x.length>=3?x="":x+="."},350);let a=[];for(let e=0;e<6;e++){const s=`https://picsum.photos/100?random=${e}`;a.push({id:crypto.randomUUID(),image:s,flipped:!1,matched:!1},{id:crypto.randomUUID(),image:s,flipped:!1,matched:!1})}l(r,a.sort(()=>Math.random()-.5))});function q(a){if(!(v||a.matched||a.flipped)){if(a.flipped=!a.flipped,d.push(a),d.length===2){v=!0;const[e,s]=d;e.image===s.image?(l(r,t(r).map(i=>i.image===e.image?{...i,matched:!0}:i)),t(m)?R(n):R(f),d=[],v=!1,A()):setTimeout(()=>{l(r,t(r).map(i=>i.matched?i:d.some(L=>L.id===i.id)?{...i,flipped:!1}:i)),d=[],v=!1,l(m,!t(m))},1e3)}l(r,t(r))}}function A(){t(r).every(e=>e.matched)&&(l(k,!0),t(n)>t(f)?l(u,"Blue"):t(f)>t(n)?l(u,"Red"):l(u,"Draw"))}function C(){l(n,0),l(f,0),l(m,!0),d=[],v=!1;let a=[];for(let e=0;e<6;e++){const s=`https://picsum.photos/100?random=${e}`;a.push({id:crypto.randomUUID(),image:s,flipped:!1,matched:!1},{id:crypto.randomUUID(),image:s,flipped:!1,matched:!1})}l(r,a.sort(()=>Math.random()-.5)),l(u,""),l(k,!1)}se();var w=re(),z=Q(w);ee(z,5,()=>t(r),te,(a,e)=>{var s=le(),i=p(s);Y(2),o(s),y(()=>{_(s,1,`card ${t(e).flipped?"flipped":""}`,"svelte-1czmmpc"),ae(i,"src",t(e).image)}),S("click",s,()=>q(t(e))),M(a,s)}),o(z);var g=h(z,2);let $;var P=p(g),E=p(P,!0);o(P),o(g);var b=h(g,2);let T;var j=p(b),F=p(j,!0);o(j),o(b);var B=h(b,2);let G;var U=h(B,2),H=p(U);o(U);var J=h(U,2);{var K=a=>{var e=ie(),s=p(e),i=p(s);o(s),o(e),y(()=>D(i,`Winner ${t(u)??""}`)),M(a,e)};Z(J,a=>{t(k)&&a(K)})}y((a,e,s)=>{$=_(g,1,"blue svelte-1czmmpc",null,$,a),D(E,t(n)),T=_(b,1,"red svelte-1czmmpc",null,T,e),D(F,t(f)),G=_(B,1,"turn svelte-1czmmpc",null,G,s)},[()=>({"rounded-tr-lg":t(m)}),()=>({"rounded-tl-lg":!t(m)}),()=>({blue:t(m)})]),S("click",H,C),M(V,w),X()}export{ge as component};
