import"../chunks/DsnmJJEf.js";import"../chunks/jTiw_zYs.js";import{o as O}from"../chunks/fVMDM1vo.js";import{C as G,p as Q,f as w,a as X,t as D,b as I,c as Y,s as _,g as t,ak as h,e as u,V as i,r as c,aJ as Z,a0 as J}from"../chunks/CAsP5EO0.js";import{e as L,s as M}from"../chunks/CKo390aN.js";import{i as ee}from"../chunks/Dj8rrK2v.js";import{e as te,i as ae}from"../chunks/BXlB_IrQ.js";import{s as se}from"../chunks/Dqd0hQuD.js";import{t as ie}from"../chunks/DLdlFW72.js";import{i as le}from"../chunks/B6G2r6NF.js";function k(d,$,p,g,l,o){var n=d.__className;if(G||n!==p||n===void 0){var m=ie(p,g,o);(!G||m!==d.getAttribute("class"))&&(m==null?d.removeAttribute("class"):d.className=m),d.__className=p}else if(o&&l!==o)for(var f in o){var v=!!o[f];(l==null||v!==!!l[f])&&d.classList.toggle(f,v)}return o}var re=w('<div><img class="front select-none svelte-1czmmpc" alt="front"/> <div class="back bg-black/[25%] w-[100px] h-[100px] svelte-1czmmpc"></div></div>'),oe=w('<div class="flex justify-center"><p class="bg-black/[25%] p-4 rounded-xl  svelte-1czmmpc"> </p></div>'),pe=w('<main class="svelte-1czmmpc"></main> <aside><p class="svelte-1czmmpc"> </p></aside> <aside><p class="svelte-1czmmpc"> </p></aside> <aside></aside> <div class="bottom-[20px] fixed right-[50%] translate-x-[50%]"><button class="text-white font-semibold cursor-pointer text-2xl bg-black/[25%] p-4 rounded-xl">Starta om</button></div> <!>',1);function _e(d,$){Q($,!1);let p=h(!0),g="",l=h([]),o=h(0),n=h(0),m=[],f=!1,v=h(!1),b=h("");O(()=>{setInterval(()=>{g.length>=3?g="":g+="."},350);let a=[];for(let e=0;e<6;e++){const s=`https://picsum.photos/100?random=${e}`;a.push({id:crypto.randomUUID(),image:s,flipped:!1,matched:!1},{id:crypto.randomUUID(),image:s,flipped:!1,matched:!1})}i(l,a.sort(()=>Math.random()-.5))});function R(a){if(!(f||a.matched||a.flipped)){if(a.flipped=!a.flipped,m.push(a),m.length===2){f=!0;const[e,s]=m;e.image===s.image?(i(l,t(l).map(r=>r.image===e.image?{...r,matched:!0}:r)),t(p)?J(o):J(n),m=[],f=!1,S()):setTimeout(()=>{i(l,t(l).map(r=>r.matched?r:m.some(K=>K.id===r.id)?{...r,flipped:!1}:r)),m=[],f=!1,i(p,!t(p))},1e3)}i(l,t(l))}}function S(){t(l).every(e=>e.matched)&&(i(v,!0),t(o)>t(n)?i(b,"Blue"):t(n)>t(o)?i(b,"Red"):i(b,"Draw"))}function V(){i(o,0),i(n,0),i(p,!0),m=[],f=!1;let a=[];for(let e=0;e<6;e++){const s=`https://picsum.photos/100?random=${e}`;a.push({id:crypto.randomUUID(),image:s,flipped:!1,matched:!1},{id:crypto.randomUUID(),image:s,flipped:!1,matched:!1})}i(l,a.sort(()=>Math.random()-.5)),i(b,""),i(v,!1)}le();var N=pe(),U=X(N);te(U,5,()=>t(l),ae,(a,e)=>{var s=re(),r=u(s);Z(2),c(s),D(()=>{k(s,1,`card ${t(e).flipped?"flipped":""}`,"svelte-1czmmpc"),se(r,"src",t(e).image)}),L("click",s,()=>R(t(e))),I(a,s)}),c(U);var x=_(U,2);let A;var P=u(x),W=u(P,!0);c(P),c(x);var z=_(x,2);let T;var j=u(z),q=u(j,!0);c(j),c(z);var B=_(z,2);let C;var y=_(B,2),E=u(y);c(y);var F=_(y,2);{var H=a=>{var e=oe(),s=u(e),r=u(s);c(s),c(e),D(()=>M(r,`Winner ${t(b)??""}`)),I(a,e)};ee(F,a=>{t(v)&&a(H)})}D((a,e,s)=>{A=k(x,1,"blue svelte-1czmmpc",null,A,a),M(W,t(o)),T=k(z,1,"red svelte-1czmmpc",null,T,e),M(q,t(n)),C=k(B,1,"turn svelte-1czmmpc",null,C,s)},[()=>({"rounded-tr-lg":t(p)}),()=>({"rounded-tl-lg":!t(p)}),()=>({blue:t(p)})]),L("click",E,V),I(d,N),Y()}export{_e as component};
