import"../chunks/DsnmJJEf.js";import"../chunks/DRVB1MOO.js";import{o as q}from"../chunks/CDo-knBG.js";import{C as D,p as B,f as x,a as E,t as M,b as P,c as F,s as U,g as a,an as h,e as u,a7 as v,r as c,aJ as G,ae as T}from"../chunks/BmWDpRrP.js";import{s as $,e as H}from"../chunks/92WWP0uw.js";import{e as K,i as O}from"../chunks/Bp_oStYI.js";import{s as Q}from"../chunks/gx9dDCFv.js";import{t as R}from"../chunks/DLdlFW72.js";import{i as S}from"../chunks/DbiP3Lzk.js";function w(p,I,o,d,e,m){var n=p.__className;if(D||n!==o||n===void 0){var i=R(o,d,m);(!D||i!==p.getAttribute("class"))&&(i==null?p.removeAttribute("class"):p.className=i),p.__className=o}else if(m&&e!==m)for(var f in m){var g=!!m[f];(e==null||g!==!!e[f])&&p.classList.toggle(f,g)}return m}var V=x('<div><img class="front select-none svelte-1czmmpc" alt="front"/> <div class="back bg-sky-500 w-[100px] h-[100px] svelte-1czmmpc"></div></div>'),W=x('<main class="svelte-1czmmpc"></main> <aside class="blue svelte-1czmmpc"><p class="svelte-1czmmpc"> </p></aside> <aside class="red svelte-1czmmpc"><p class="svelte-1czmmpc"> </p></aside> <aside></aside>',1);function re(p,I){B(I,!1);let o=h(!0),d="",e=h([]),m=h(0),n=h(0),i=[],f=!1;q(()=>{setInterval(()=>{d.length>=3?d="":d+="."},350);let t=[];for(let l=0;l<6;l++){const r=`https://picsum.photos/100?random=${l}`;t.push({id:crypto.randomUUID(),image:r,flipped:!1,matched:!1},{id:crypto.randomUUID(),image:r,flipped:!1,matched:!1})}v(e,t.sort(()=>Math.random()-.5))});function g(t){if(!(f||t.matched||t.flipped)){if(t.flipped=!t.flipped,i.push(t),i.length===2){f=!0;const[l,r]=i;l.image===r.image?(v(e,a(e).map(s=>s.image===l.image?{...s,matched:!0}:s)),a(o)?T(m):T(n),i=[],f=!1):setTimeout(()=>{v(e,a(e).map(s=>s.matched?s:i.some(j=>j.id===s.id)?{...s,flipped:!1}:s)),i=[],f=!1,v(o,!a(o))},1e3)}v(e,a(e))}}S();var N=W(),b=E(N);K(b,5,()=>a(e),O,(t,l)=>{var r=V(),s=u(r);G(2),c(r),M(()=>{w(r,1,`card ${a(l).flipped?"flipped":""}`,"svelte-1czmmpc"),Q(s,"src",a(l).image)}),H("click",r,()=>g(a(l))),P(t,r)}),c(b);var z=U(b,2),k=u(z),C=u(k,!0);c(k),c(z);var _=U(z,2),y=u(_),J=u(y,!0);c(y),c(_);var L=U(_,2);let A;M(t=>{$(C,a(m)),$(J,a(n)),A=w(L,1,"turn svelte-1czmmpc",null,A,t)},[()=>({blue:a(o)})]),P(p,N),F()}export{re as component};
