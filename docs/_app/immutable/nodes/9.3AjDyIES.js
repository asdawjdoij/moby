import"../chunks/DsnmJJEf.js";import"../chunks/CL-R6rt-.js";import{o as O}from"../chunks/CHun6ii5.js";import{p as Q,f as I,a as V,t as y,b as M,c as X,s as h,g as t,m as c,e as o,i as l,r as m,aM as Y,a1 as R}from"../chunks/CdiMGECY.js";import{e as S,s as D}from"../chunks/DmFAlsvX.js";import{i as Z}from"../chunks/DEaogVEG.js";import{e as ee,i as te}from"../chunks/BlAt00et.js";import{s as ae}from"../chunks/DqtRZbM6.js";import{s as _}from"../chunks/9o19IH7R.js";import{i as se}from"../chunks/B8WvqVYg.js";var le=I('<div><img class="front select-none svelte-1czmmpc" alt="front"/> <div class="back bg-black/[25%] w-[100px] h-[100px] svelte-1czmmpc"></div></div>'),ie=I('<div class="flex justify-center"><p class="bg-black/[25%] p-4 rounded-xl  svelte-1czmmpc"> </p></div>'),re=I('<main class="svelte-1czmmpc"></main> <aside><p class="svelte-1czmmpc"> </p></aside> <aside><p class="svelte-1czmmpc"> </p></aside> <aside></aside> <div class="bottom-[20px] fixed right-[50%] translate-x-[50%]"><button class="text-white font-semibold cursor-pointer text-2xl bg-black/[25%] p-4 rounded-xl">Starta om</button></div> <!>',1);function ge(W,q){Q(q,!1);let p=c(!0),x="",r=c([]),n=c(0),f=c(0),d=[],v=!1,z=c(!1),u=c("");O(()=>{setInterval(()=>{x.length>=3?x="":x+="."},350);let a=[];for(let e=0;e<6;e++){const s=`https://picsum.photos/100?random=${e}`;a.push({id:crypto.randomUUID(),image:s,flipped:!1,matched:!1},{id:crypto.randomUUID(),image:s,flipped:!1,matched:!1})}l(r,a.sort(()=>Math.random()-.5))});function A(a){if(!(v||a.matched||a.flipped)){if(a.flipped=!a.flipped,d.push(a),d.length===2){v=!0;const[e,s]=d;e.image===s.image?(l(r,t(r).map(i=>i.image===e.image?{...i,matched:!0}:i)),t(p)?R(n):R(f),d=[],v=!1,C()):setTimeout(()=>{l(r,t(r).map(i=>i.matched?i:d.some(N=>N.id===i.id)?{...i,flipped:!1}:i)),d=[],v=!1,l(p,!t(p))},1e3)}l(r,t(r))}}function C(){t(r).every(e=>e.matched)&&(l(z,!0),t(n)>t(f)?l(u,"Blue"):t(f)>t(n)?l(u,"Red"):l(u,"Draw"))}function E(){l(n,0),l(f,0),l(p,!0),d=[],v=!1;let a=[];for(let e=0;e<6;e++){const s=`https://picsum.photos/100?random=${e}`;a.push({id:crypto.randomUUID(),image:s,flipped:!1,matched:!1},{id:crypto.randomUUID(),image:s,flipped:!1,matched:!1})}l(r,a.sort(()=>Math.random()-.5)),l(u,""),l(z,!1)}se();var w=re(),k=V(w);ee(k,5,()=>t(r),te,(a,e)=>{var s=le(),i=o(s);Y(2),m(s),y(()=>{_(s,1,`card ${t(e).flipped?"flipped":""}`,"svelte-1czmmpc"),ae(i,"src",t(e).image)}),S("click",s,()=>A(t(e))),M(a,s)}),m(k);var g=h(k,2);let $;var P=o(g),F=o(P,!0);m(P),m(g);var b=h(g,2);let T;var j=o(b),H=o(j,!0);m(j),m(b);var B=h(b,2);let G;var U=h(B,2),J=o(U);m(U);var K=h(U,2);{var L=a=>{var e=ie(),s=o(e),i=o(s);m(s),m(e),y(()=>D(i,`Winner ${t(u)??""}`)),M(a,e)};Z(K,a=>{t(z)&&a(L)})}y((a,e,s)=>{$=_(g,1,"blue svelte-1czmmpc",null,$,a),D(F,t(n)),T=_(b,1,"red svelte-1czmmpc",null,T,e),D(H,t(f)),G=_(B,1,"turn svelte-1czmmpc",null,G,s)},[()=>({"rounded-tr-lg":t(p)}),()=>({"rounded-tl-lg":!t(p)}),()=>({blue:t(p)})]),S("click",J,E),M(W,w),X()}export{ge as component};
